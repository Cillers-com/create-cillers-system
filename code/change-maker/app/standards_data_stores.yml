couchbase:
  local_and_capella_eu:
    data_structures: standard_data_structure
    metadata: standard_metadata
    capella_projects: standard_capella_projects
    clusters: standard_clusters_local_and_capella_eu

  data_structure:
    main:
      type: couchbase_cluster

  metadata:
    bucket: main
    scope: metadata

  capella_projects:
    production: 
      organization_id: !env CAPELLA_MAIN_ORGANIZATION_ID_PRODUCTION
      project_id: !env CAPELLA_MAIN_PROJECT_ID_PRODUCTION
    stage:
      organization_id: !env CAPELLA_MAIN_ORGANIZATION_ID_STAGE
      project_id: !env CAPELLA_MAIN_PROJECT_ID_STAGE

  clusters_local_and_capella_eu:
    production: standard_capella_cluster_eu_production
    stage: standard_capella_cluster_eu_stage
    development: standard_local_single_node_cluster_development
    test: standard_local_single_node_cluster_test

  capella_cluster_eu_production:
    type: capella
    capella_project: production 
    change_maker_client: couchbase.production.change_maker
    cloud: standard_cloud_eu
    specs: standard_cluster_specs_capella_production
    service_groups: standard_service_groups_production
    metadata_bucket_specs: standard_metadata_bucket_specs_production

  capella_cluster_eu_stage:
    type: capella
    capella_project: stage 
    change_maker_client: couchbase.stage.change_maker
    cloud: standard_cloud_eu
    specs: standard_cluster_specs_capella_stage
    service_groups: standard_service_groups_stage
    metadata_bucket_specs: standard_metadata_bucket_specs_stage

  local_single_node_cluster_development:
    type: polytope_local 
    module: couchbase
    change_maker_client: couchbase.development._default
    specs: standard_cluster_specs_local_development
    services: ['data', 'index', 'query', 'search']
    metadata_bucket_specs: standard_metadata_bucket_specs_development

  local_single_node_cluster_test:
    type: polytope_local
    module: couchbase
    change_maker_client: couchbase.test._default
    specs: standard_cluster_specs_local_test
    services: ['data', 'index', 'query', 'search']
    metadata_bucket_specs: standard_metadata_bucket_specs_test

  cloud_eu:
    type: aws
    region: 'eu-central-1'
    
  cluster_specs_capella_production:
    type: capella_multi_node
    size: small
    service_tier: developer_pro
    auto_failover: true
    auto_failover_timeout: 30

  cluster_specs_capella_stage:
    type: capella_multi_node
    size: small 
    service_tier: developer_pro
    auto_failover: true
    auto_failover_timeout: 30

  cluster_specs_local_development:
    type: single_node
    ram: 4096
    index_ram: 1024
    fts_ram: 512

  cluster_specs_local_test:
    type: single_node
    ram: 4096
    index_ram: 1024
    fts_ram: 512

  service_groups_production:
    main:
      services: ['data', 'index', 'query', 'search']
      nodes: 3
      cpu: 16
      ram: 32
      disk: 
        storage: 50
        type: gp3
        iops: 3000

  service_groups_stage:
    main:
      services: ['data', 'index', 'query', 'search']
      nodes: 3
      cpu: 16
      ram: 32
      disk: 
        storage: 50
        type: gp3
        iops: 3000

  metadata_bucket_specs_production:
    bucket_type: couchbase
    ram: 512
    replicas: 2
    durability: majority

  metadata_bucket_specs_stage:
    bucket_type: couchbase
    ram: 512
    replicas: 2
    durability: majority

  metadata_bucket_specs_development:
    bucket_type: couchbase
    ram: 512
    replicas: 1
    durability: none

  metadata_bucket_specs_test:
    bucket_type: couchbase
    ram: 512 
    replicas: 1
    durability: none

redpanda:
  local_and_cloud_eu:
    data_structures: standard_data_structure
    metadata_topics_prefix: metadata
    clusters: standard_clusters_local_and_cloud_eu

  data_structure:
    main:
      type: redpanda_cluster

  clusters_local_and_cloud_eu:
    production: standard_cloud_cluster_eu_production
    stage: standard_cloud_cluster_eu_stage
    development: standard_local_single_node_cluster_development
    test: standard_local_single_node_cluster_test
    
  cloud_cluster_eu_production:
    type: cloud
    change_maker_client: redpanda.production.change_maker
    cloud: standard_cloud_eu
    metadata_topics_specs: standard_metadata_topics_specs_production

  cloud_cluster_eu_stage:
    type: cloud
    change_maker_client: redpanda.stage.change_maker
    cloud: standard_cloud_eu
    metadata_topics_specs: standard_metadata_topics_specs_stage

  local_single_node_cluster_development:
    type: polytope
    module: redpanda
    change_maker_client: redpanda.development._default
    metadata_topics_specs: standard_metadata_topics_specs_development

  local_single_node_cluster_test:
    type: polytope
    module: redpanda
    change_maker_client: redpanda.test._default
    metadata_topics_specs: standard_metadata_topics_specs_test

  cloud_eu:
    type: aws
    region: 'eu-central-1'

  metadata_topics_specs_production:
    partitions: 3
    replication_factor: 3

  metadata_topics_specs_stage:
    partitions: 2
    replication_factor: 2

  metadata_topics_specs_development:
    partitions: 1
    replication_factor: 1

  metadata_topics_specs_test:
    partitions: 1
    replication_factor: 1

